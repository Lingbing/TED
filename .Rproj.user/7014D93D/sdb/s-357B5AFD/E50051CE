{
    "contents" : "#' Calculate statistical characteristics of an event\n#' \n#' This function calculates statistical characteristics for detected events.\n\n#' \n#' @param x a time series\n#' @param a a scalar specifying starting point of the event\n#' @param b a scalar specifying ending point of the event\n#' @export\n#' @examples\n#' set.seed(12345)\n#' n=128\n#' measures(cbfs('box'))\n#' measures(cbfs('sine'))\n\n\nmeasures <- function(x) {\n    x = na.approx(x)\n    N <- length(x)\n    # Coefficient of variation\n    cv = sd((x - min(x, na.rm = TRUE)))/mean((x - min(x, na.rm = TRUE)))\n    # non-smoothness\n    fs = sd(diff(x, 10))/mean(abs(diff(x, 10)))\n    # HD\n    hd = abs(mean(x[(round(N/2) + 1):N]) - mean(x[1:round(N/2)]))/(max(x) - min(x, na.rm = TRUE))\n    # kurtosis\n    k1 <- sum((x - mean(x, na.rm = TRUE))^4, na.rm = TRUE)/(N * var(x, na.rm = TRUE)^2)\n    # skewness\n    s <- abs(sum((x - mean(x, na.rm = TRUE))^3, na.rm = TRUE)/(N * sd(x, na.rm = TRUE)^3))\n    m <- c(cv, fs, hd, k1, s)\n    \n    # Now do measures on diff data\n    diffx <- diff(x, lag = 5)\n    # Kurtosis\n    k <- sum((diffx - mean(diffx, na.rm = TRUE))^4, na.rm = TRUE)/(N * var(diffx, na.rm = TRUE)^2)\n    # scaled max of diff\n    fmax = max(diffx)/(max(x) - min(x, na.rm = TRUE))\n    # scaled min of diff\n    fmin = min(diffx)/(max(x) - min(x, na.rm = TRUE))\n    # PP test statistic\n    ppstat <- PP.test(x)$statistic\n    # ZA test statistic\n    zastat <- ur.za.fast(x, model = \"trend\")$teststat\n    \n    m <- c(m, k, fmax, fmin, ppstat, zastat)\n    \n    names(m) <- c(\"sd\", \"non-smoothness\", \"HD\", \"kurtosis\", \"skewness\", \"diff kurtosis\", \"diff max\", \"diff min\", \"PPstat\", \"ZAstat\")\n    \n    return(m)\n} \n",
    "created" : 1395483330824.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "10764189",
    "id" : "E50051CE",
    "lastKnownWriteTime" : 1395562780,
    "path" : "~/Desktop/EventDetection/R/measures.R",
    "project_path" : "R/measures.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}